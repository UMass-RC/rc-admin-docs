<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>OpenLDAP Client - Unity Cluster Admin Docs</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Installing NSLCD/NSCD", url: "#_top", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../slurm/concepts/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../slurm/concepts/" class="btn btn-xs btn-link">
        Concepts
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../server/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../server/" class="btn btn-xs btn-link">
        OpenLDAP Server
      </a>
    </div>
    
  </div>

    

    <p>Our objective is to get our clients (all the nodes on the cluster), to talk to a centralized LDAP server to obtain all user information, so that we don't have to create local users on each node. To accomplish this, we will use NSLCD, which will contact the LDAP server, and NSCD, which will cache that information.</p>
<h3 id="installing-nslcdnscd">Installing NSLCD/NSCD</h3>
<p>Install from Ubuntu package repositories:</p>
<pre><code>apt install libpam-ldapd
</code></pre>

<p>During the installation, you will be asked several questions:</p>
<ol>
<li>LDAP URI is the location of the ldap server. In our case, thats <code>ldap://identity/</code></li>
<li>DN (distinguished name) is the base DN, which is usually the domain component of the LDAP server. For Unity, <code>dc=unity,dc=rc,dc=umass,dc=edu</code></li>
<li>Now it will ask where to use LDAP info. You should check <code>passwd</code>, <code>group</code>, and <code>shadow</code>.</li>
</ol>
<p>At this point the system will be able to begin using the centralized users. However, the <code>ldapsearch</code> command won't work, because its config file is seperate. In <code>/etc/ldap/ldap.conf</code>:</p>
<pre><code>BASE dc=unity,dc=rc,dc=umass,dc=edu
URI ldap://identity/
</code></pre>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../slurm/concepts/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../slurm/concepts/" class="btn btn-xs btn-link">
        Concepts
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../server/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../server/" class="btn btn-xs btn-link">
        OpenLDAP Server
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content"><p>Copyright &copy;2020 UMass Amherst</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>